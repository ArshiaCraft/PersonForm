(function(){"use strict";var e={8602:function(e,n,t){var r=t(5130),o=t(6768);const s={id:"app"};function l(e,n,t,r,l,a){const i=(0,o.g2)("PersonForm"),u=(0,o.g2)("PersonList");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.bF)(i,{onPersonAdded:a.refreshPersonList},null,8,["onPersonAdded"]),(0,o.bF)(u,{ref:"personList"},null,512)])}const a={class:"container mt-5"},i=(0,o.Lk)("h1",null,"Person Form",-1),u={class:"mb-3"},c=(0,o.Lk)("label",{for:"first_name",class:"form-label"},"First Name:",-1),d={class:"mb-3"},f=(0,o.Lk)("label",{for:"last_name",class:"form-label"},"Last Name:",-1),p={class:"mb-3"},m=(0,o.Lk)("label",{for:"phone_number",class:"form-label"},"Phone Number:",-1),b={class:"mb-3"},h=(0,o.Lk)("label",{for:"age",class:"form-label"},"Age:",-1),v=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function k(e,n,t,s,l,k){return(0,o.uX)(),(0,o.CE)("div",a,[i,(0,o.Lk)("form",{onSubmit:n[4]||(n[4]=(0,r.D$)(((...e)=>k.submitForm&&k.submitForm(...e)),["prevent"]))},[(0,o.Lk)("div",u,[c,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=e=>l.person.first_name=e),required:""},null,512),[[r.Jo,l.person.first_name]])]),(0,o.Lk)("div",d,[f,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[1]||(n[1]=e=>l.person.last_name=e),required:""},null,512),[[r.Jo,l.person.last_name]])]),(0,o.Lk)("div",p,[m,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[2]||(n[2]=e=>l.person.phone_number=e),required:""},null,512),[[r.Jo,l.person.phone_number]])]),(0,o.Lk)("div",b,[h,(0,o.bo)((0,o.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":n[3]||(n[3]=e=>l.person.age=e),required:""},null,512),[[r.Jo,l.person.age]])]),v],32)])}var P=t(4373),L={data(){return{person:{first_name:"",last_name:"",phone_number:"",age:null}}},methods:{async submitForm(){try{await P.A.post("http://127.0.0.1:8000/api/persons/",this.person),this.$emit("personAdded"),this.person={first_name:"",last_name:"",phone_number:"",age:null}}catch(e){console.error("There was an error!",e)}}}},y=t(1241);const _=(0,y.A)(L,[["render",k]]);var g=_,w=t(4232);const O=e=>((0,o.Qi)("data-v-f67df0fa"),e=e(),(0,o.jt)(),e),x={class:"container mt-5"},A=O((()=>(0,o.Lk)("h1",null,"Person List",-1))),C={class:"list-group"},F=["onClick"],j=["onClick"],E={key:0,class:"mt-5"},U=O((()=>(0,o.Lk)("h2",null,"Edit Person",-1))),q={class:"mb-3"},J=O((()=>(0,o.Lk)("label",{for:"first_name",class:"form-label"},"First Name:",-1))),S={class:"mb-3"},T=O((()=>(0,o.Lk)("label",{for:"last_name",class:"form-label"},"Last Name:",-1))),V={class:"mb-3"},N=O((()=>(0,o.Lk)("label",{for:"phone_number",class:"form-label"},"Phone Number:",-1))),X={class:"mb-3"},$=O((()=>(0,o.Lk)("label",{for:"age",class:"form-label"},"Age:",-1))),D=O((()=>(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Update",-1)));function M(e,n,t,s,l,a){return(0,o.uX)(),(0,o.CE)("div",x,[A,(0,o.Lk)("ul",C,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.persons,(e=>((0,o.uX)(),(0,o.CE)("li",{class:"list-group-item d-flex justify-content-between align-items-center",key:e.id},[(0,o.eW)((0,w.v_)(e.first_name)+" "+(0,w.v_)(e.last_name)+" - "+(0,w.v_)(e.phone_number)+" - "+(0,w.v_)(e.age)+" ",1),(0,o.Lk)("div",null,[(0,o.Lk)("button",{class:"btn btn-warning btn-sm",onClick:n=>a.editPerson(e)}," Edit ",8,F),(0,o.Lk)("button",{class:"btn btn-danger btn-sm",onClick:n=>a.deletePerson(e.id)}," Delete ",8,j)])])))),128))]),l.selectedPerson?((0,o.uX)(),(0,o.CE)("div",E,[U,(0,o.Lk)("form",{onSubmit:n[4]||(n[4]=(0,r.D$)(((...e)=>a.updatePerson&&a.updatePerson(...e)),["prevent"]))},[(0,o.Lk)("div",q,[J,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=e=>l.selectedPerson.first_name=e),required:""},null,512),[[r.Jo,l.selectedPerson.first_name]])]),(0,o.Lk)("div",S,[T,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[1]||(n[1]=e=>l.selectedPerson.last_name=e),required:""},null,512),[[r.Jo,l.selectedPerson.last_name]])]),(0,o.Lk)("div",V,[N,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[2]||(n[2]=e=>l.selectedPerson.phone_number=e),required:""},null,512),[[r.Jo,l.selectedPerson.phone_number]])]),(0,o.Lk)("div",X,[$,(0,o.bo)((0,o.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":n[3]||(n[3]=e=>l.selectedPerson.age=e),required:""},null,512),[[r.Jo,l.selectedPerson.age]])]),D],32)])):(0,o.Q3)("",!0)])}var I={data(){return{persons:[],selectedPerson:null}},created(){this.fetchPersons()},methods:{async fetchPersons(){try{const e=await P.A.get("http://127.0.0.1:8000/api/persons/");this.persons=e.data}catch(e){console.error("There was an error fetching persons!",e)}},editPerson(e){this.selectedPerson={...e}},async updatePerson(){try{await P.A.put(`http://127.0.0.1:8000/api/persons/${this.selectedPerson.id}/`,this.selectedPerson),alert("Person updated successfully"),this.selectedPerson=null,this.fetchPersons()}catch(e){console.error("There was an error updating the person!",e)}},async deletePerson(e){try{await P.A.delete(`http://127.0.0.1:8000/api/persons/${e}/`),alert("Person deleted successfully"),this.fetchPersons()}catch(n){console.error("There was an error deleting the person!",n)}}}};const Q=(0,y.A)(I,[["render",M],["__scopeId","data-v-f67df0fa"]]);var K=Q,W={components:{PersonForm:g,PersonList:K},methods:{refreshPersonList(){this.$refs.personList.fetchPersons()}}};const z=(0,y.A)(W,[["render",l]]);var B=z;(0,r.Ef)(B).mount("#app")}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var s=n[r]={exports:{}};return e[r].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(n,r,o,s){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],s=e[c][2];for(var a=!0,i=0;i<r.length;i++)(!1&s||l>=s)&&Object.keys(t.O).every((function(e){return t.O[e](r[i])}))?r.splice(i--,1):(a=!1,s<l&&(l=s));if(a){e.splice(c--,1);var u=o();void 0!==u&&(n=u)}}return n}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,o,s]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,r){var o,s,l=r[0],a=r[1],i=r[2],u=0;if(l.some((function(n){return 0!==e[n]}))){for(o in a)t.o(a,o)&&(t.m[o]=a[o]);if(i)var c=i(t)}for(n&&n(r);u<l.length;u++)s=l[u],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(c)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=t.O(void 0,[504],(function(){return t(8602)}));r=t.O(r)})();
//# sourceMappingURL=app.97062672.js.map